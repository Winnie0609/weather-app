(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{15:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(8),i=c.n(s),r=(c(7),c(3)),j=c.n(r),l=c(6),h=c(2),o=c(4),d=c(0);var x=function(e){var t=e.value,c=e.width,n=e.height,a=t,s=100-t,i="".concat(a," ").concat(s);return Object(d.jsxs)("svg",{width:c,height:n,viewBox:"0 0 42 42",className:"donut",children:[Object(d.jsx)("circle",{className:"donut-hole",cx:"21",cy:"21",r:"15.91549430918954",fill:"#fff"}),Object(d.jsx)("circle",{className:"donut-ring",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#d2d3d4",strokeWidth:"2"}),Object(d.jsx)("circle",{className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#ce4b99",strokeWidth:"2",strokeDasharray:i,strokeDashoffset:"25",style:{strokeLinecap:"round"}}),Object(d.jsxs)("g",{className:"chart-text",children:[Object(d.jsxs)("text",{x:"50%",y:"45%",className:"chart-number",children:[a,"%"]}),Object(d.jsx)("text",{x:"50%",y:"53%",className:"chart-item",children:"huminity"})]})]})};var b=function(e){var t=e.children,c=e.width,n=(e.height,e.data);return Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(c," 270"),width:"100%",height:"70%",preserveAspectRatio:"xMidYMax meet",children:[Object(d.jsx)("g",{className:"x axis",transform:"translate(5, -150)",children:n.map((function(e,t){return Object(d.jsx)("text",{x:80*t,y:"400",children:e.day},t)}))}),t]})},m=function(e){var t=e.x,c=e.y,n=e.width,a=e.height,s=e.temp;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("rect",{x:t,y:c,width:n,height:a,fill:"black"}),Object(d.jsx)("text",{x:t+n/3,y:c-5,children:s})]})},u=function(e){var t=e.data,c=t,n=80*c.length;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(b,{height:220,width:n,data:t,children:c.map((function(e,t){var c=3*e.temp;return Object(d.jsx)(m,{x:80*t,y:220-c,width:50,height:c,expenseName:e.name,temp:e.temp},t)}))})})};var O=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(h.a)(s,2),r=i[0],b=i[1],m=Object(n.useState)(!1),O=Object(h.a)(m,2),p=O[0],f=O[1],w=Object(n.useState)([]),v=Object(h.a)(w,2),g=v[0],_=v[1],y=Object(n.useState)([]),N=Object(h.a)(y,2),k=N[0],F=N[1],S=Object(n.useState)([]),C=Object(h.a)(S,2),D=C[0],M=C[1],B=Object(n.useState)([]),E=Object(h.a)(B,2),L=E[0],I=E[1],J=Object(n.useState)(!0),T=Object(h.a)(J,2),W=T[0],q=T[1],A="https://www.metaweather.com/api/location";function K(){return(K=Object(l.a)(j.a.mark((function e(t){var n,s,i,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),F([]),n=c.trim(),a(n),""===c&&window.alert("Please Key in a City :)"),e.prev=5,s="".concat(A,"/search/?query=").concat(c),e.next=9,fetch(s);case 9:return i=e.sent,e.next=12,i.json();case 12:r=e.sent,b(!0),1===r.length?P(r[0].woeid):r.length>1?(_(r),f(!0)):b(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(5),console.error(e.t0),a("taipei"),b(!1);case 22:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}function P(e){!function(e){R.apply(this,arguments)}(e),f(!1),q(!0),I([])}function R(){return(R=Object(l.a)(j.a.mark((function e(t){var c,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="".concat(A,"/").concat(t),!t){e.next=12;break}return e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log(a),F(a),M(a.consolidated_weather),D.length>0&&Y(D);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.map((function(e){return{day:o(e.applicable_date).format("ddd"),temp:W?e.min_temp.toFixed(0):e.max_temp.toFixed(0),type:W?"min_temp":"max_temp"}}));I(t),console.log(t)}return Object(n.useEffect)((function(){P(2306179)}),[]),Object(n.useEffect)((function(){Y(D)}),[W]),Object(d.jsxs)("div",{className:"weather",children:[Object(d.jsxs)("div",{className:"section_one",children:[Object(d.jsxs)("div",{className:"section_one_header",children:[Object(d.jsx)("span",{children:"It's"}),D.length>0?Object(d.jsx)("span",{children:D[0].weather_state_name.toLowerCase()}):Object(d.jsx)("span",{children:"light rain"}),Object(d.jsx)("span",{children:"in"}),Object(d.jsx)("form",{onSubmit:function(e){return K.apply(this,arguments)},children:Object(d.jsx)("input",{type:"text",placeholder:"where?",spellCheck:"false",name:c,onChange:function(e){return a(e.target.value)}})}),Object(d.jsx)("span",{children:"."})]}),k.woeid&&Object(d.jsxs)("p",{className:"subtitle city",children:[k.title,", ",k.parent.title]})]}),r?p?Object(d.jsx)("div",{className:"country_list",children:g.map((function(e){return Object(d.jsx)("p",{onClick:function(){return P(e.woeid)},children:e.title},e.woeid)}))}):D.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"subtitle",children:["Today, ",o(D[0].applicable_date).format("MMM DD")]}),Object(d.jsxs)("div",{className:"section_one_content",children:[Object(d.jsx)("img",{src:"https://www.metaweather.com/static/img/weather/".concat(D[0].weather_state_abbr,".svg"),alt:D[0].weather_state_name}),Object(d.jsxs)("div",{className:"section_one_temp",children:[Object(d.jsxs)("p",{children:[D[0].the_temp.toFixed(0),"\xb0"]}),Object(d.jsxs)("p",{children:[D[0].min_temp.toFixed(0)," \xb0/ ",D[0].max_temp.toFixed(0),"\xb0"]})]}),Object(d.jsx)(x,{value:D[0].humidity,width:"20%",height:"20%"})]})]}),Object(d.jsx)("div",{className:"line"}),Object(d.jsxs)("div",{className:"section_two",children:[Object(d.jsx)("div",{className:"subtitle",children:"Daily"}),Object(d.jsx)("div",{className:"section_two_content",children:D.slice(1,D.length).map((function(e){return Object(d.jsxs)("div",{className:"section_two_item",children:[Object(d.jsx)("p",{children:o(e.applicable_date).format("ddd")}),Object(d.jsx)("img",{src:"https://www.metaweather.com/static/img/weather/".concat(e.weather_state_abbr,".svg"),alt:e.weather_state_name}),Object(d.jsxs)("p",{children:[e.min_temp.toFixed(0),"\xb0 / ",e.max_temp.toFixed(0),"\xb0"]}),Object(d.jsx)(x,{value:e.humidity,width:"70%",height:"70%"})]},e.id)}))})]}),Object(d.jsx)("div",{className:"line"}),Object(d.jsxs)("div",{className:"section_three",children:[Object(d.jsxs)("div",{className:"section_three_content",children:[Object(d.jsx)("p",{className:"subtitle",children:"Temperature of the days"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:W?"active":"",onClick:function(){q(!0)},children:Object(d.jsx)("span",{children:"min"})}),Object(d.jsx)("button",{className:W?"":"active",onClick:function(){q(!1)},children:Object(d.jsx)("span",{children:"max"})})]})]}),Object(d.jsx)(u,{data:L})]})]}):Object(d.jsx)(d.Fragment,{children:"Loading..."}):Object(d.jsx)("h1",{children:"City not Found"})]})};var p=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(O,{})})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))},7:function(e,t,c){}},[[15,1,2]]]);
//# sourceMappingURL=main.98b7519a.chunk.js.map